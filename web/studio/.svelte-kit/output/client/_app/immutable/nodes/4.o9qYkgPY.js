import"../chunks/Bzak7iHL.js";import{p as Le,c as w,q as Ae,r as T,b as Qe,d as P,f as a,y as Fe,n as B,t as g,g as r,s as ue,u as Ie,e as F}from"../chunks/-vKrXhex.js";import{f as c,a as e,d as Oe,c as o,t as R,s as h}from"../chunks/FTzCPRq0.js";import{p as je,r as ze,b as Ne,c as l,i as q}from"../chunks/D1rrPloc.js";import{b as Ue,c as De,d as Ge,B as He,f as Je,e as ce,i as _e}from"../chunks/DNf00C4f.js";import{a as Ve}from"../chunks/DWiQkPBG.js";import{C as Ce}from"../chunks/DwcntQWW.js";import{C as Ee}from"../chunks/Dp98T8lE.js";import{T as We,a as Xe,b as ke,c as Ye,d as Ze,e as er}from"../chunks/CxBKgyp9.js";import{B as me}from"../chunks/CYwCRfUz.js";var rr=c("<div><!></div>");function tr(X,b){Le(b,!0);let _=je(b,"ref",15,null),t=ze(b,["$$slots","$$events","$$legacy","ref","class","children"]);var d=rr();Ue(d,K=>({"data-slot":"card-header",class:K,...t}),[()=>De("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",b.class)]);var I=w(d);Ge(I,()=>b.children??Ae),T(d),Ne(d,K=>_(K),()=>_()),e(X,d),Qe()}var ar=c('<textarea placeholder="SELECT * FROM ..." rows="4" class="w-full p-3 bg-muted rounded-md font-mono text-sm resize-none focus:outline-none focus:ring-2 focus:ring-ring"></textarea> <div class="flex items-center justify-between mt-3"><span class="text-xs text-muted-foreground">Ctrl+Enter to run</span> <!></div>',1),sr=c('<span class="text-xs text-muted-foreground"> </span>'),or=c('<div class="flex items-center gap-2"><!> <!></div>'),lr=c('<pre class="p-4 text-destructive font-mono text-sm"> </pre>'),nr=c("<!> <!>",1),dr=c('<p class="p-4 text-muted-foreground"> </p>'),fr=c("<!> <!>",1),ir=c('<div class="p-6 h-full flex flex-col"><h1 class="text-2xl font-bold mb-4">Query</h1> <!> <!></div>');function Pr(X,b){Le(b,!0);let _=ue("SELECT * FROM sqlite_master LIMIT 10;"),t=ue(null),d=ue(!1);async function I(){if(r(_).trim()){F(d,!0);try{F(t,await Je(r(_)),!0)}catch(n){F(t,{error:String(n)},!0)}finally{F(d,!1)}}}function K(n){(n.metaKey||n.ctrlKey)&&n.key==="Enter"&&I()}var Y=ir(),pe=P(w(Y),2);l(pe,()=>Ce,(n,O)=>{O(n,{class:"mb-4",children:(Z,$e)=>{var j=o(),ee=a(j);l(ee,()=>Ee,(xe,z)=>{z(xe,{class:"pt-4",children:(N,ge)=>{var C=ar(),m=a(C);Fe(m),m.__keydown=K;var E=P(m,2),re=P(w(E),2);{let f=Ie(()=>r(d)||!r(_).trim());He(re,{onclick:I,get disabled(){return r(f)},children:(k,U)=>{B();var L=R();g(()=>h(L,r(d)?"Running...":"Run Query")),e(k,L)},$$slots:{default:!0}})}T(E),Ve(m,()=>r(_),f=>F(_,f)),e(N,C)},$$slots:{default:!0}})}),e(Z,j)},$$slots:{default:!0}})});var Be=P(pe,2);{var Re=n=>{var O=o(),Z=a(O);l(Z,()=>Ce,($e,j)=>{j($e,{class:"flex-1 overflow-hidden flex flex-col",children:(ee,xe)=>{var z=fr(),N=a(z);l(N,()=>tr,(C,m)=>{m(C,{class:"py-3",children:(E,re)=>{var f=or(),k=w(f);{var U=s=>{me(s,{variant:"destructive",children:(i,Q)=>{B();var v=R("Error");e(i,v)},$$slots:{default:!0}})},L=s=>{var i=o(),Q=a(i);{var v=u=>{me(u,{variant:"secondary",children:(M,te)=>{B();var y=R();g(()=>h(y,`${r(t).data.length??""} rows`)),e(M,y)},$$slots:{default:!0}})},x=u=>{me(u,{variant:"secondary",children:(M,te)=>{B();var y=R();g(()=>h(y,`${r(t).rowsAffected??""} affected`)),e(M,y)},$$slots:{default:!0}})};q(Q,u=>{r(t).data?u(v):u(x,!1)},!0)}e(s,i)};q(k,s=>{r(t).error?s(U):s(L,!1)})}var p=P(k,2);{var $=s=>{var i=sr(),Q=w(i);T(i),g(()=>h(Q,`${r(t).duration??""}ms`)),e(s,i)};q(p,s=>{r(t).duration!==void 0&&s($)})}T(f),e(E,f)},$$slots:{default:!0}})});var ge=P(N,2);l(ge,()=>Ee,(C,m)=>{m(C,{class:"flex-1 overflow-auto p-0",children:(E,re)=>{var f=o(),k=a(f);{var U=p=>{var $=lr(),s=w($,!0);T($),g(()=>h(s,r(t).error)),e(p,$)},L=p=>{var $=o(),s=a($);{var i=v=>{var x=o(),u=a(x);l(u,()=>We,(M,te)=>{te(M,{children:(y,vr)=>{var he=nr(),be=a(he);l(be,()=>Xe,(ae,se)=>{se(ae,{children:(oe,Ke)=>{var S=o(),le=a(S);l(le,()=>ke,(ne,D)=>{D(ne,{children:(G,ye)=>{var H=o(),de=a(H);ce(de,17,()=>r(t).columns,_e,(fe,Pe)=>{var A=o(),ie=a(A);l(ie,()=>Ye,(ve,J)=>{J(ve,{class:"font-mono text-xs",children:(V,we)=>{B();var W=R();g(()=>h(W,r(Pe))),e(V,W)},$$slots:{default:!0}})}),e(fe,A)}),e(G,H)},$$slots:{default:!0}})}),e(oe,S)},$$slots:{default:!0}})});var qe=P(be,2);l(qe,()=>Ze,(ae,se)=>{se(ae,{children:(oe,Ke)=>{var S=o(),le=a(S);ce(le,17,()=>r(t).data,_e,(ne,D)=>{var G=o(),ye=a(G);l(ye,()=>ke,(H,de)=>{de(H,{children:(fe,Pe)=>{var A=o(),ie=a(A);ce(ie,17,()=>r(t).columns,_e,(ve,J)=>{var V=o(),we=a(V);l(we,()=>er,(W,Me)=>{Me(W,{class:"font-mono text-xs max-w-xs truncate",children:(Se,ur)=>{B();var Te=R();g(()=>h(Te,r(D)[r(J)]===null?"NULL":r(D)[r(J)])),e(Se,Te)},$$slots:{default:!0}})}),e(ve,V)}),e(fe,A)},$$slots:{default:!0}})}),e(ne,G)}),e(oe,S)},$$slots:{default:!0}})}),e(y,he)},$$slots:{default:!0}})}),e(v,x)},Q=v=>{var x=dr(),u=w(x);T(x),g(()=>h(u,`Query executed. ${r(t).rowsAffected??""} row(s) affected.`)),e(v,x)};q(s,v=>{r(t).data&&r(t).columns?v(i):v(Q,!1)},!0)}e(p,$)};q(k,p=>{r(t).error?p(U):p(L,!1)})}e(E,f)},$$slots:{default:!0}})}),e(ee,z)},$$slots:{default:!0}})}),e(n,O)};q(Be,n=>{r(t)&&n(Re)})}T(Y),e(X,Y),Qe()}Oe(["keydown"]);export{Pr as component};
