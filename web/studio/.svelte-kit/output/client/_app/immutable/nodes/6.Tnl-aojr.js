import"../chunks/Bzak7iHL.js";import{o as Ut}from"../chunks/CHYVOm2z.js";import{p as Vt,s as O,a as qt,t as T,b as zt,c as l,n as U,d,r as i,g as t,u as it,e as k,f as r}from"../chunks/-vKrXhex.js";import{f as c,a,t as V,s as p,c as n}from"../chunks/FTzCPRq0.js";import{i as q,s as At,a as Et,c as v}from"../chunks/D1rrPloc.js";import{B as vt,h as Gt,j as Ht,e as ut,i as ct,s as It,k as Kt}from"../chunks/DNf00C4f.js";import{s as Qt}from"../chunks/wzx0znVI.js";import{C as Rt}from"../chunks/DwcntQWW.js";import{T as Wt,a as Xt,b as ht,c as Yt,d as Zt,e as te}from"../chunks/CxBKgyp9.js";import{B as ee}from"../chunks/CYwCRfUz.js";const ae=()=>{const u=Qt;return{page:{subscribe:u.page.subscribe},navigating:{subscribe:u.navigating.subscribe},updated:u.updated}},re={subscribe(u){return ae().page.subscribe(u)}};var se=c('<p class="text-muted-foreground">Loading...</p>'),oe=c('<div class="font-mono text-xs"> </div> <div class="text-xs text-muted-foreground"> </div>',1),ne=c("<span> </span>"),le=c("<!> <!>",1),de=c('<div class="flex items-center justify-center gap-2 mt-4"><!> <span class="text-sm text-muted-foreground"> </span> <!></div>'),ie=c("<!> <!>",1),ve=c('<div class="p-6"><div class="flex items-center gap-3 mb-6"><!> <h1 class="text-2xl font-bold font-mono"> </h1> <!></div> <!></div>');function he(u,ft){Vt(ft,!0);const Pt=()=>Et(re,"$page",yt),[yt,Tt]=At(),z=it(()=>Pt().params.name);let A=O(qt([])),o=O(null),E=O(!0),f=O(1);async function G(e=1){k(E,!0);try{const[s,_]=await Promise.all([Gt(t(z)),Ht(t(z),e)]);k(A,s.columns||[],!0),k(o,_,!0),k(f,e,!0)}catch(s){console.error("Failed to load:",s)}finally{k(E,!1)}}Ut(()=>G());function kt(e){return e===null?"NULL":e===void 0?"":typeof e=="object"?JSON.stringify(e):String(e)}var H=ve(),I=l(H),_t=l(I);vt(_t,{variant:"ghost",href:"/tables",children:(e,s)=>{U();var _=V("â† Back");a(e,_)},$$slots:{default:!0}});var K=d(_t,2),Bt=l(K,!0);i(K);var St=d(K,2);{var jt=e=>{ee(e,{variant:"secondary",children:(s,_)=>{U();var B=V();T(()=>p(B,`${t(o).total??""} rows`)),a(s,B)},$$slots:{default:!0}})};q(St,e=>{t(o)&&e(jt)})}i(I);var Dt=d(I,2);{var Lt=e=>{var s=se();a(e,s)},Nt=e=>{var s=n(),_=r(s);{var B=Q=>{var mt=ie(),pt=r(mt);v(pt,()=>Rt,($,g)=>{g($,{children:(S,j)=>{var D=n(),R=r(D);v(R,()=>Wt,(b,x)=>{x(b,{children:(W,L)=>{var $t=le(),gt=r($t);v(gt,()=>Xt,(X,Y)=>{Y(X,{children:(Z,Jt)=>{var h=n(),tt=r(h);v(tt,()=>ht,(et,N)=>{N(et,{children:(w,bt)=>{var C=n(),at=r(C);ut(at,17,()=>t(A),ct,(rt,st)=>{var P=n(),ot=r(P);v(ot,()=>Yt,(nt,F)=>{F(nt,{children:(J,xt)=>{var M=oe(),y=r(M),lt=l(y,!0);i(y);var dt=d(y,2),m=l(dt,!0);i(dt),T(()=>{p(lt,t(st).name),p(m,t(st).type)}),a(J,M)},$$slots:{default:!0}})}),a(rt,P)}),a(w,C)},$$slots:{default:!0}})}),a(Z,h)},$$slots:{default:!0}})});var Ft=d(gt,2);v(Ft,()=>Zt,(X,Y)=>{Y(X,{children:(Z,Jt)=>{var h=n(),tt=r(h);ut(tt,17,()=>t(o).data,ct,(et,N)=>{var w=n(),bt=r(w);v(bt,()=>ht,(C,at)=>{at(C,{children:(rt,st)=>{var P=n(),ot=r(P);ut(ot,17,()=>t(A),ct,(nt,F)=>{var J=n(),xt=r(J);v(xt,()=>te,(M,y)=>{y(M,{class:"font-mono text-xs",children:(lt,dt)=>{var m=ne(),Mt=l(m,!0);i(m),T(Ot=>{It(m,1,Kt(t(N)[t(F).name]===null?"text-muted-foreground italic":"")),p(Mt,Ot)},[()=>kt(t(N)[t(F).name])]),a(lt,m)},$$slots:{default:!0}})}),a(nt,J)}),a(rt,P)},$$slots:{default:!0}})}),a(et,w)}),a(Z,h)},$$slots:{default:!0}})}),a(W,$t)},$$slots:{default:!0}})}),a(S,D)},$$slots:{default:!0}})});var wt=d(pt,2);{var Ct=$=>{var g=de(),S=l(g);{let b=it(()=>t(f)<=1);vt(S,{variant:"outline",get disabled(){return t(b)},onclick:()=>G(t(f)-1),children:(x,W)=>{U();var L=V("Previous");a(x,L)},$$slots:{default:!0}})}var j=d(S,2),D=l(j);i(j);var R=d(j,2);{let b=it(()=>t(f)>=t(o).pages);vt(R,{variant:"outline",get disabled(){return t(b)},onclick:()=>G(t(f)+1),children:(x,W)=>{U();var L=V("Next");a(x,L)},$$slots:{default:!0}})}i(g),T(()=>p(D,`${t(f)??""} / ${t(o).pages??""}`)),a($,g)};q(wt,$=>{t(o).pages>1&&$(Ct)})}a(Q,mt)};q(_,Q=>{t(o)&&Q(B)},!0)}a(e,s)};q(Dt,e=>{t(E)&&!t(o)?e(Lt):e(Nt,!1)})}i(H),T(()=>p(Bt,t(z))),a(u,H),zt(),Tt()}export{he as component};
