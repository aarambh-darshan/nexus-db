var te=Object.defineProperty;var Y=r=>{throw TypeError(r)};var ne=(r,e,s)=>e in r?te(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var j=(r,e,s)=>ne(r,typeof e!="symbol"?e+"":e,s),C=(r,e,s)=>e.has(r)||Y("Cannot "+s);var a=(r,e,s)=>(C(r,e,"read from private field"),s?s.call(r):e.get(r)),_=(r,e,s)=>e.has(r)?Y("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,s),F=(r,e,s,t)=>(C(r,e,"write to private field"),t?t.call(r,s):e.set(r,s),s);import{h as $,U as ie,V as D,W as ae,G as k,X as q,j as T,C as fe,Y as ue,Z as ce,z as H,B as Z,D as J,_ as oe,$ as le,a0 as de,I as he,H as K,a1 as pe,m as _e,k as Q,a2 as ve,a3 as N,A as be,S as ge,q as z,T as Se,a4 as Pe,a5 as we,g as O,e as V,a6 as x,a7 as ye,a8 as me,a as Ae,J as Ee,a9 as Oe,P as Te,aa as Ie,ab as Re,ac as De,ad as xe,ae as Me,af as Ne,Q as W,ag as w}from"./-vKrXhex.js";import{l as Be}from"./DIeogL5L.js";var d,h,l,v,y,m,I;class X{constructor(e,s=!0){j(this,"anchor");_(this,d,new Map);_(this,h,new Map);_(this,l,new Map);_(this,v,new Set);_(this,y,!0);_(this,m,()=>{var e=$;if(a(this,d).has(e)){var s=a(this,d).get(e),t=a(this,h).get(s);if(t)ie(t),a(this,v).delete(s);else{var n=a(this,l).get(s);n&&(a(this,h).set(s,n.effect),a(this,l).delete(s),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),t=n.effect)}for(const[i,u]of a(this,d)){if(a(this,d).delete(i),i===e)break;const f=a(this,l).get(u);f&&(D(f.effect),a(this,l).delete(u))}for(const[i,u]of a(this,h)){if(i===s||a(this,v).has(i))continue;const f=()=>{if(Array.from(a(this,d).values()).includes(i)){var p=document.createDocumentFragment();ue(u,p),p.append(k()),a(this,l).set(i,{effect:u,fragment:p})}else D(u);a(this,v).delete(i),a(this,h).delete(i)};a(this,y)||!t?(a(this,v).add(i),ae(u,f,!1)):f()}}});_(this,I,e=>{a(this,d).delete(e);const s=Array.from(a(this,d).values());for(const[t,n]of a(this,l))s.includes(t)||(D(n.effect),a(this,l).delete(t))});this.anchor=e,F(this,y,s)}ensure(e,s){var t=$,n=ce();if(s&&!a(this,h).has(e)&&!a(this,l).has(e))if(n){var i=document.createDocumentFragment(),u=k();i.append(u),a(this,l).set(e,{effect:q(()=>s(u)),fragment:i})}else a(this,h).set(e,q(()=>s(this.anchor)));if(a(this,d).set(t,e),n){for(const[f,c]of a(this,h))f===e?t.skipped_effects.delete(c):t.skipped_effects.add(c);for(const[f,c]of a(this,l))f===e?t.skipped_effects.delete(c.effect):t.skipped_effects.add(c.effect);t.oncommit(a(this,m)),t.ondiscard(a(this,I))}else T&&(this.anchor=fe),a(this,m).call(this)}}d=new WeakMap,h=new WeakMap,l=new WeakMap,v=new WeakMap,y=new WeakMap,m=new WeakMap,I=new WeakMap;function $e(r,e,s=!1){T&&Z();var t=new X(r),n=s?J:0;function i(u,f){if(T){const p=oe(r)===le;if(u===p){var c=de();he(c),t.anchor=c,K(!1),t.ensure(u,f),K(!0);return}}t.ensure(u,f)}H(()=>{var u=!1;e((f,c=!0)=>{u=!0,i(c,f)}),u||i(!1,null)},n)}function ke(r,e,s){T&&Z();var t=new X(r);H(()=>{var n=e()??null;t.ensure(n,n&&(i=>s(i,n)))},J)}function G(r,e){return r===e||(r==null?void 0:r[N])===e}function qe(r={},e,s,t){return pe(()=>{var n,i;return _e(()=>{n=i,i=[],Q(()=>{r!==s(...i)&&(e(r,...i),n&&G(s(...n),r)&&e(null,...n))})}),()=>{ve(()=>{i&&G(s(...i),r)&&e(null,...i)})}}),r}let E=!1,M=Symbol();function Ke(r,e,s){const t=s[e]??(s[e]={store:null,source:Se(void 0),unsubscribe:z});if(t.store!==r&&!(M in s))if(t.unsubscribe(),t.store=r??null,r==null)t.source.v=void 0,t.unsubscribe=z;else{var n=!0;t.unsubscribe=Pe(r,i=>{n?t.source.v=i:V(t.source,i)}),n=!1}return r&&M in s?we(r):O(t.source)}function ze(){const r={};function e(){be(()=>{for(var s in r)r[s].unsubscribe();ge(r,M,{enumerable:!1,value:!0})})}return[r,e]}function Le(r){var e=E;try{return E=!1,[r(),E]}finally{E=e}}const Ue={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function Ge(r,e,s){return new Proxy({props:r,exclude:e},Ue)}const Ye={get(r,e){let s=r.props.length;for(;s--;){let t=r.props[s];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(r,e,s){let t=r.props.length;for(;t--;){let n=r.props[t];w(n)&&(n=n());const i=x(n,e);if(i&&i.set)return i.set(s),!0}return!1},getOwnPropertyDescriptor(r,e){let s=r.props.length;for(;s--;){let t=r.props[s];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const n=x(t,e);return n&&!n.configurable&&(n.configurable=!0),n}}},has(r,e){if(e===N||e===W)return!1;for(let s of r.props)if(w(s)&&(s=s()),s!=null&&e in s)return!0;return!1},ownKeys(r){const e=[];for(let s of r.props)if(w(s)&&(s=s()),!!s){for(const t in s)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(s))e.includes(t)||e.push(t)}return e}};function He(...r){return new Proxy({props:r},Ye)}function Ze(r,e,s,t){var L;var n=!Be||(s&De)!==0,i=(s&Re)!==0,u=(s&Me)!==0,f=t,c=!0,p=()=>(c&&(c=!1,f=u?Q(t):t),f),g;if(i){var ee=N in r||W in r;g=((L=x(r,e))==null?void 0:L.set)??(ee&&e in r?o=>r[e]=o:void 0)}var S,B=!1;i?[S,B]=Le(()=>r[e]):S=r[e],S===void 0&&t!==void 0&&(S=p(),g&&(n&&ye(),g(S)));var b;if(n?b=()=>{var o=r[e];return o===void 0?p():(c=!0,o)}:b=()=>{var o=r[e];return o!==void 0&&(f=void 0),o===void 0?f:o},n&&(s&me)===0)return b;if(g){var re=r.$$legacy;return(function(o,A){return arguments.length>0?((!n||!A||re||B)&&g(A?b():o),o):b()})}var R=!1,P=((s&xe)!==0?Te:Ie)(()=>(R=!1,b()));i&&O(P);var se=Ee;return(function(o,A){if(arguments.length>0){const U=A?O(P):n&&i?Ae(o):o;return V(P,U),R=!0,f!==void 0&&(f=U),o}return Ne&&R||(se.f&Oe)!==0?P.v:O(P)})}export{X as B,Ke as a,qe as b,ke as c,He as d,$e as i,Ze as p,Ge as r,ze as s};
